<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
      <meta name="theme-color" content="#000000">
      <title>Pipe Operators| Coconut Tutorial</title>
      <link href="../styles/main.8e1c53f0.css" rel="stylesheet">
      <link rel="stylesheet" href="../styles/interpreter.css">
      <link rel="stylesheet" type="text/css" href="../styles/pygments.css">
      <script src="../scripts/interpreter.js"></script>
  </head>
  <body><noscript>You need to enable JavaScript to run this app.</noscript>

  <!-- Bit of code that includes the side nav -->
  <script src="../scripts/sideNav.js"></script>

  <!-- Where the code for everything else on the page starts -->
  <div id="main-content">
    <div class="split left">
      <h1>Pipe Operators</h1>
    <h2>
      <p>
        Coconut provides support for, and in many ways is centered around the use of the pipe operator and pipeline-style function application. The word pipelining is indicative of what these operators do: data processing elements and functions are connected in series with the output of one becoming the input of the next. This makes multiple function calls more readable and simpler to implement.
      </p>
      <p>The different operators are:</p>
      <div class="highlight"><pre><code><span></span><span class="p">(</span><span class="o">|&gt;</span><span class="p">)</span>    <span class="o">=&gt;</span> <span class="n">pipe</span> <span class="n">forward</span>
<span class="p">(</span><span class="o">|*&gt;</span><span class="p">)</span>   <span class="o">=&gt;</span> <span class="n">multiple</span><span class="o">-</span><span class="n">argument</span> <span class="n">pipe</span> <span class="n">forward</span>
<span class="p">(</span><span class="o">&lt;|</span><span class="p">)</span>    <span class="o">=&gt;</span> <span class="n">pipe</span> <span class="n">backward</span>
<span class="p">(</span><span class="o">&lt;*|</span><span class="p">)</span>   <span class="o">=&gt;</span> <span class="n">multiple</span><span class="o">-</span><span class="n">argument</span> <span class="n">pipe</span> <span class="n">backward</span>
</code></pre></div>

      <p>
        <em>Note: refer to the
          <a href="http://coconut.readthedocs.io/en/develop/DOCS.html#operators">documentation</a>
          for information about operator precedence and associativity.</em>
      </p>

      <p>Let's look at a function call in Coconut that uses pipe forward:</p>
      <div class="highlight"><pre><code><span></span><span class="n">obj</span> <span class="o">|&gt;</span> <span class="o">.</span><span class="n">attribute</span> <span class="o">|&gt;</span> <span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">|&gt;</span> <span class="n">func</span><span class="o">$</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">|&gt;</span> <span class="o">.</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</code></pre></div>

      <p>Compare that to equivalent Python code:</p>
      <div class="highlight"><pre><code><span></span><span class="n">func</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">attribute</span><span class="o">.</span><span class="n">method</span><span class="p">(</span><span class="n">args</span><span class="p">))[</span><span class="n">index</span><span class="p">]</span>
</code></pre></div>

      <p>For a more concrete example, consider the following Python:</p>
      <div class="highlight"><pre><code><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)))))</span>
</code></pre></div>
      <p>
        With pipelines it's a lot easier and clearer to see what is happening and where the data is flowing.<br>
        This line of code filters out the even numbers on the interval 0 to 9, puts
        them in a list, calculates the list’s sum, and prints the result.
      </p>

      <p>This is the same bit of code in Coconut:</p>
      <div class="highlight"><pre><code><span></span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> <span class="o">|*&gt;</span> <span class="nb">filter</span> <span class="o">|&gt;</span> <span class="nb">list</span> <span class="o">|&gt;</span> <span class="nb">sum</span> <span class="o">|&gt;</span> <span class="nb">print</span>
</code></pre></div>

      <p>
        <em>Notice the use of the multiple-argument pipe forward operator
        (<span class="o">|*&gt;</span>) to pass both the lambda and the list to filter.</em>
      </p>
      <p>
        Here, the order of the function calls is the same in the code as it is in
        the code’s description: filter, list, sum, and print. Coconut’s use of
        pipeline style allows operations to be written in the order that they’re
        performed, resulting in intuitive, readable code.
      </p>
    </h2>

    <section class="next">
        <a href='../Patternmatch/Patternmatch_p1.html' class="btn">Next</a>
    </section>

    <script>
      ((window.gitter = {}).chat = {}).options = {
      room: 'evhub/coconut'
      };
    </script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>

    </div>
    <div class="split right" id="root"></div>
    <!-- Script for the interpreter -->
    <script type="text/javascript" src="../scripts/main.707883ab.js"></script>
  </div>

  </body>

</html>
